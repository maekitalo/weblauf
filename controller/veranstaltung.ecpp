<%include>model/veranstaltung.ecpp</%include>
<%pre>

#include "configuration.h"
#include "veranstaltungmanager.h"

#include <tntdb/connect.h>

</%pre>
<%cpp>

auto& cfg = Configuration::it();

tntdb::Connection conn = tntdb::connectCached(cfg.dburl());
VeranstaltungManager veranstaltungManager(conn);
veranstaltungen = veranstaltungManager.getVeranstaltungen();

log_debug(veranstaltungen.size() << " Veranstaltungen gelesen");

</%cpp>
